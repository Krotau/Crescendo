(()=>{"use strict";var e={935:function(e,n,s){var r=s(893),t=s(294),a=s(745),i=s(259),o=s(220);let l=(0,o.cn)({question:"",ready:!1,answer:"",reasoning:""}),c=(0,o.cn)(""),d=(0,o.cn)(!1),h=(0,o.cn)([]),u=(0,o.cn)(0),x=()=>{let[e,n]=(0,i.KO)(c),[s,a]=(0,i.KO)(d),[o,x]=(0,t.useState)(0),[v,g]=(0,t.useState)(!1),[j,m]=(0,i.KO)(h),[p,f]=(0,i.KO)(l),b=(0,i.b9)(u),O=(0,t.useMemo)(()=>new WebSocket("ws://localhost:8000/ws"),[]),w=()=>{console.log("Sending message to api"),o>0&&m([...j,p]),O.send(e),f({question:e,ready:!1,answer:"",reasoning:""}),n(""),x(o+1)},y=e=>{let n;if(e.done)return;let s=e.done;if("<think>"==e.msg){console.log("thinking..."),g(!0);return}if("</think>"==e.msg){console.log("done thinking!"),g(!1);return}if(v){let n=p.reasoning.concat(e.msg);f({...p,reasoning:n,ready:s})}else{let n=p.answer.concat(e.msg);f({...p,answer:n,ready:s})}};return O.onopen=()=>{a(!0)},O.onmessage=e=>{let n=JSON.parse(e.data);console.log("parsed data: "+n.msg+" "+n.done),b(n.context_size),y(n)},(0,r.jsxs)(r.Fragment,{children:[s?":)":":(",(0,r.jsx)("p",{children:"Ask something..."}),(0,r.jsx)("input",{type:"text",id:"messageText",autoComplete:"off",value:e,onChange:e=>n(e.target.value),onKeyDown:e=>{"Enter"===e.key&&w()}}),(0,r.jsxs)("div",{className:"chat_buttons",children:[(0,r.jsx)("button",{onClick:()=>w(),children:"Send"}),(0,r.jsx)("button",{children:"Clear Context"})]})]})},v=()=>{let e=(0,i.Dv)(h),n=(0,i.Dv)(l);return(0,r.jsxs)("div",{className:"chat_log",children:[(0,r.jsx)("p",{children:"Chat Log"}),(0,r.jsxs)("div",{className:"chat_item",children:[(0,r.jsx)("div",{className:"chat_container",children:(0,r.jsx)("div",{className:"question",children:n.question})}),(0,r.jsx)("div",{className:"answer",children:n.answer}),(0,r.jsx)("div",{className:"reasoning",children:n.reasoning}),(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{children:"Play"}),(0,r.jsx)("button",{children:"Expand"})]}),e.map(e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"chat_container margin_top",children:(0,r.jsx)("div",{className:"question",children:e.question})}),(0,r.jsx)("div",{className:"answer",children:e.answer}),(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{children:"Play"}),(0,r.jsx)("button",{children:"Expand"})]})]}))]})]})},g=()=>{let e=(0,i.Dv)(u);return(0,r.jsxs)("div",{className:"context_bar",children:[" Context Used: ",e]})},j=document.getElementById("root");j&&a.createRoot(j).render((0,r.jsx)(t.StrictMode,{children:(0,r.jsx)(()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"chat_bg",children:[(0,r.jsx)(x,{}),(0,r.jsx)(v,{})]}),(0,r.jsx)("div",{className:"server_info_bg",children:(0,r.jsx)(g,{})})]}),{})}))}},n={};function s(r){var t=n[r];if(void 0!==t)return t.exports;var a=n[r]={exports:{}};return e[r](a,a.exports,s),a.exports}s.m=e,s.d=(e,n)=>{for(var r in n)s.o(n,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},s.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e=[];s.O=(n,r,t,a)=>{if(r){a=a||0;for(var i=e.length;i>0&&e[i-1][2]>a;i--)e[i]=e[i-1];e[i]=[r,t,a];return}for(var o=1/0,i=0;i<e.length;i++){for(var[r,t,a]=e[i],l=!0,c=0;c<r.length;c++)(!1&a||o>=a)&&Object.keys(s.O).every(e=>s.O[e](r[c]))?r.splice(c--,1):(l=!1,a<o&&(o=a));if(l){e.splice(i--,1);var d=t();void 0!==d&&(n=d)}}return n}})(),s.rv=()=>"1.3.11",(()=>{var e={980:0};s.O.j=n=>0===e[n];var n=(n,r)=>{var t,a,[i,o,l]=r,c=0;if(i.some(n=>0!==e[n])){for(t in o)s.o(o,t)&&(s.m[t]=o[t]);if(l)var d=l(s)}for(n&&n(r);c<i.length;c++)a=i[c],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(d)},r=self.webpackChunkapp=self.webpackChunkapp||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))})(),s.ruid="bundler=rspack@1.3.11";var r=s.O(void 0,["361","954"],function(){return s(935)});r=s.O(r)})();