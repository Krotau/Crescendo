(()=>{"use strict";var e={935:function(e,n,s){var r=s(893),t=s(294),i=s(745),a=s(259),o=s(220);let l=(0,o.cn)({question:"",ready:!1,answer:"",reasoning:""}),c=(0,o.cn)(""),d=(0,o.cn)(!1),h=(0,o.cn)([]),x=(0,o.cn)(0),u=(0,o.cn)(!1),j=()=>{let[e,n]=(0,a.KO)(c),[s,i]=(0,a.KO)(d),[o,j]=(0,t.useState)(0),[v,m]=(0,t.useState)(!1),[g,p]=(0,a.KO)(h),[b,f]=(0,a.KO)(l),[N,k]=(0,a.KO)(u),y=(0,a.b9)(x),O=(0,t.useMemo)(()=>new WebSocket("ws://localhost:8000/ws"),[]),w=()=>{console.log("Sending message to api"),o>0&&p([...g,b]),O.send(e),f({question:e,ready:!1,answer:"",reasoning:""}),n(""),j(o+1)},_=e=>{let n;if(e.done)return;let s=e.done;if("<think>"==e.msg){console.log("thinking..."),m(!0);return}if("</think>"==e.msg){console.log("done thinking!"),m(!1);return}if(v){let n=b.reasoning.concat(e.msg);f({...b,reasoning:n,ready:s})}else{let n=b.answer.concat(e.msg);f({...b,answer:n,ready:s})}};return O.onopen=()=>{i(!0)},O.onmessage=e=>{let n=JSON.parse(e.data);console.log("parsed data: "+n.msg+" "+n.done),y(n.context_size),_(n)},(0,r.jsxs)(r.Fragment,{children:[s?":)":":(",(0,r.jsx)("p",{children:"Ask something..."}),(0,r.jsx)("input",{type:"text",id:"messageText",autoComplete:"off",value:e,onChange:e=>n(e.target.value),onKeyDown:e=>{"Enter"===e.key&&w()}}),(0,r.jsxs)("div",{className:"chat_buttons",children:[(0,r.jsx)("button",{onClick:()=>w(),children:"Send"}),(0,r.jsx)("button",{children:"Clear Context"}),(0,r.jsx)("button",{onClick:()=>{k(!N)},children:"File Menu"})]})]})},v=()=>{let e=(0,a.Dv)(h),n=(0,a.Dv)(l);return(0,r.jsx)("div",{className:"chat_log",children:(0,r.jsxs)("div",{className:"chat_item",children:[(0,r.jsx)("div",{className:"chat_container",children:(0,r.jsx)("div",{className:"question",children:n.question})}),(0,r.jsx)("div",{className:"answer",children:n.answer}),(0,r.jsx)("div",{className:"reasoning",children:n.reasoning}),(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{children:"Play"}),(0,r.jsx)("button",{children:"Expand"})]}),(0,r.jsx)("p",{children:"Chat Log"}),e.map(e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"chat_container margin_top",children:(0,r.jsx)("div",{className:"question",children:e.question})}),(0,r.jsx)("div",{className:"answer",children:e.answer}),(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{children:"Play"}),(0,r.jsx)("button",{children:"Expand"})]})]}))]})})},m=()=>{let e=Math.round(100*(0,a.Dv)(x)/4e4);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"serverinfo_context_container",children:[(0,r.jsxs)("p",{children:["Context Used: ",e,"%"]}),(0,r.jsx)("div",{className:"context_container",children:(0,r.jsx)("div",{style:{width:`${e.toFixed(2)}%`},className:"context_bar",children:(0,r.jsx)("p",{})})})]})})},g=document.getElementById("root");g&&i.createRoot(g).render((0,r.jsx)(t.StrictMode,{children:(0,r.jsx)(()=>{let[e,n]=(0,a.KO)(u),s=`overlay_background ${e?"open_bg":"closed"}`,i=`overlay ${e?"open_menu":"closed"}`,o=(0,t.useRef)(null);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:o,className:s,onClick:s=>{s.target===o.current&&n(!e)},children:(0,r.jsx)("div",{className:i,children:(0,r.jsxs)("div",{className:e?"show":"hide",children:[(0,r.jsx)("button",{onClick:()=>{n(!e)},children:"Close"}),(0,r.jsx)("button",{children:"File 1"}),(0,r.jsx)("button",{children:"File 2"}),(0,r.jsx)("button",{children:"File 3"}),(0,r.jsx)("button",{children:"File 4"})]})})}),(0,r.jsxs)("div",{className:"chat_bg",children:[(0,r.jsx)(j,{}),(0,r.jsx)(v,{})]}),(0,r.jsx)("div",{className:"server_info_bg",children:(0,r.jsx)(m,{})})]})},{})}))}},n={};function s(r){var t=n[r];if(void 0!==t)return t.exports;var i=n[r]={exports:{}};return e[r](i,i.exports,s),i.exports}s.m=e,s.d=(e,n)=>{for(var r in n)s.o(n,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},s.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e=[];s.O=(n,r,t,i)=>{if(r){i=i||0;for(var a=e.length;a>0&&e[a-1][2]>i;a--)e[a]=e[a-1];e[a]=[r,t,i];return}for(var o=1/0,a=0;a<e.length;a++){for(var[r,t,i]=e[a],l=!0,c=0;c<r.length;c++)(!1&i||o>=i)&&Object.keys(s.O).every(e=>s.O[e](r[c]))?r.splice(c--,1):(l=!1,i<o&&(o=i));if(l){e.splice(a--,1);var d=t();void 0!==d&&(n=d)}}return n}})(),s.rv=()=>"1.3.11",(()=>{var e={980:0};s.O.j=n=>0===e[n];var n=(n,r)=>{var t,i,[a,o,l]=r,c=0;if(a.some(n=>0!==e[n])){for(t in o)s.o(o,t)&&(s.m[t]=o[t]);if(l)var d=l(s)}for(n&&n(r);c<a.length;c++)i=a[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(d)},r=self.webpackChunkapp=self.webpackChunkapp||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))})(),s.ruid="bundler=rspack@1.3.11";var r=s.O(void 0,["361","954"],function(){return s(935)});r=s.O(r)})();