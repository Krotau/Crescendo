(()=>{"use strict";var e={935:function(e,n,s){var t=s(893),r=s(294),o=s(745),i=s(259),a=s(767),l=s(220);let c=(0,l.cn)({question:"",ready:!1,answer:"",reasoning:""}),d=(0,l.cn)(""),h=(0,l.cn)(!1),u=(0,l.cn)([]),x=(0,l.cn)(0),j=(0,l.cn)(!1),g=a.z.object({msg:a.z.string(),done:a.z.boolean(),context_size:a.z.number()});a.z.object({tool_name:a.z.string(),tool_arguments:a.z.object()});let m=a.z.object({kind:a.z.literal(["tool_init","tool_result","message"]),payload:a.z.object()}),v=()=>{let[e,n]=(0,i.KO)(d),[s,o]=(0,i.KO)(h),[a,l]=(0,r.useState)(0),[v,b]=(0,r.useState)(!1),[p,f]=(0,i.KO)(u),[y,_]=(0,i.KO)(c),[k,O]=(0,i.KO)(j),N=(0,i.b9)(x),w=(0,r.useMemo)(()=>new WebSocket("ws://localhost:8000/ws"),[]),C=()=>{console.log("Sending message to api"),a>0&&f([...p,y]),w.send(e),_({question:e,ready:!1,answer:"",reasoning:""}),n(""),l(a+1)},z=e=>{let n,s=e.done;if("<think>"==e.msg){console.log("thinking..."),b(!0);return}if("</think>"==e.msg){console.log("done thinking!"),b(!1);return}if(v){let n=y.reasoning.concat(e.msg);_({...y,reasoning:n,ready:s})}else{let n=y.answer.concat(e.msg);_({...y,answer:n,ready:s})}};return w.onopen=()=>{o(!0)},w.onmessage=e=>{let n=JSON.parse(e.data);if("message"===m.parse(n).kind){let e=g.parse(n.payload);N(e.context_size),z(e)}else console.log(n)},(0,t.jsxs)(t.Fragment,{children:[s?":)":":(",(0,t.jsx)("p",{children:"Ask something..."}),(0,t.jsx)("input",{type:"text",id:"messageText",autoComplete:"off",value:e,onChange:e=>n(e.target.value),onKeyDown:e=>{"Enter"===e.key&&C()}}),(0,t.jsxs)("div",{className:"chat_buttons",children:[(0,t.jsx)("button",{onClick:()=>C(),children:"Send"}),(0,t.jsx)("button",{children:"Clear Context"}),(0,t.jsx)("button",{onClick:()=>{O(!k)},children:"File Menu"})]})]})},b=()=>{let e=(0,i.Dv)(u),n=(0,i.Dv)(c);return(0,t.jsx)("div",{className:"chat_log",children:(0,t.jsxs)("div",{className:"chat_item",children:[(0,t.jsx)("div",{className:"chat_container",children:(0,t.jsx)("div",{className:"question",children:n.question})}),(0,t.jsx)("div",{className:"answer",children:n.answer}),(0,t.jsx)("div",{className:"reasoning",children:n.reasoning}),(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{children:"Play"}),(0,t.jsx)("button",{children:"Expand"})]}),(0,t.jsx)("p",{children:"Chat Log"}),e.map(e=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"chat_container margin_top",children:(0,t.jsx)("div",{className:"question",children:e.question})}),(0,t.jsx)("div",{className:"answer",children:e.answer}),(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{children:"Play"}),(0,t.jsx)("button",{children:"Expand"})]})]}))]})})},p=()=>{let e=Math.round(100*(0,i.Dv)(x)/4e4);return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"serverinfo_context_container",children:[(0,t.jsxs)("p",{children:["Context Used: ",e,"%"]}),(0,t.jsx)("div",{className:"context_container",children:(0,t.jsx)("div",{style:{width:`${e.toFixed(2)}%`},className:"context_bar",children:(0,t.jsx)("p",{})})})]})})},f=document.getElementById("root");f&&o.createRoot(f).render((0,t.jsx)(r.StrictMode,{children:(0,t.jsx)(()=>{let[e,n]=(0,i.KO)(j),s=`overlay_background ${e?"open_bg":"closed"}`,o=`overlay ${e?"open_menu":"closed"}`,a=(0,r.useRef)(null);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{ref:a,className:s,onClick:s=>{s.target===a.current&&n(!e)},children:(0,t.jsx)("div",{className:o,children:(0,t.jsxs)("div",{className:e?"show":"hide",children:[(0,t.jsx)("button",{onClick:()=>{n(!e)},children:"Close"}),(0,t.jsx)("button",{children:"File 1"}),(0,t.jsx)("button",{children:"File 2"}),(0,t.jsx)("button",{children:"File 3"}),(0,t.jsx)("button",{children:"File 4"})]})})}),(0,t.jsxs)("div",{className:"chat_bg",children:[(0,t.jsx)(v,{}),(0,t.jsx)(b,{})]}),(0,t.jsx)("div",{className:"server_info_bg",children:(0,t.jsx)(p,{})})]})},{})}))}},n={};function s(t){var r=n[t];if(void 0!==r)return r.exports;var o=n[t]={exports:{}};return e[t](o,o.exports,s),o.exports}s.m=e,s.d=(e,n)=>{for(var t in n)s.o(n,t)&&!s.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},s.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=[];s.O=(n,t,r,o)=>{if(t){o=o||0;for(var i=e.length;i>0&&e[i-1][2]>o;i--)e[i]=e[i-1];e[i]=[t,r,o];return}for(var a=1/0,i=0;i<e.length;i++){for(var[t,r,o]=e[i],l=!0,c=0;c<t.length;c++)(!1&o||a>=o)&&Object.keys(s.O).every(e=>s.O[e](t[c]))?t.splice(c--,1):(l=!1,o<a&&(a=o));if(l){e.splice(i--,1);var d=r();void 0!==d&&(n=d)}}return n}})(),s.rv=()=>"1.3.11",(()=>{var e={980:0};s.O.j=n=>0===e[n];var n=(n,t)=>{var r,o,[i,a,l]=t,c=0;if(i.some(n=>0!==e[n])){for(r in a)s.o(a,r)&&(s.m[r]=a[r]);if(l)var d=l(s)}for(n&&n(t);c<i.length;c++)o=i[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(d)},t=self.webpackChunkapp=self.webpackChunkapp||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})(),s.ruid="bundler=rspack@1.3.11";var t=s.O(void 0,["361","53"],function(){return s(935)});t=s.O(t)})();